---
import siteConfig from '@data/global/index.json'

const subscribe = siteConfig.subscribe

const { class: className } = Astro.props
---

{
  (subscribe?.title || subscribe?.text || subscribe?.formUrl) && (
    <section class={className}>
      <div class="mx-auto flex w-full max-w-3xl flex-col items-center rounded-md border border-slate-200 bg-slate-50 px-4 py-8 text-center sm:px-12 sm:py-14">
        {subscribe?.title && <h2 class="max-w-xl text-2xl font-bold text-slate-900 sm:text-3xl">{subscribe?.title}</h2>}
        {subscribe?.text && <p class:list={['max-w-xl text-slate-700 sm:text-lg', { 'mt-4': subscribe?.title }]}>{subscribe?.text}</p>}
        {subscribe?.formUrl && (
          <form
            action={subscribe?.formUrl}
            method="post"
            id="mc-embedded-subscribe-form"
            name="mc-embedded-subscribe-form"
            class:list={['flex w-full max-w-xl flex-col gap-2.5 sm:flex-row', { 'mt-7': subscribe?.title || subscribe?.text }]}
            target="_blank"
          >
            <label for="mce-EMAIL" class="sr-only">
              Email Address
            </label>
            <input
              type="email"
              name="EMAIL"
              id="mce-EMAIL"
              class="h-11 w-full rounded-full border border-slate-200 bg-white px-5 py-2 text-slate-700 placeholder:text-slate-500 focus:outline-none"
              required=""
              value=""
              placeholder="Your email"
            />
            <button
              type="submit"
              name="subscribe"
              id="mc-embedded-subscribe"
              class="hover:shadow-button inline-flex w-full cursor-pointer items-center justify-center gap-1.5 rounded-full bg-primary px-8 py-2.5 font-semibold text-white transition duration-300 sm:w-auto"
            >
              Subscribe
            </button>
          </form>
        )}
      </div>
    </section>
  )
}
